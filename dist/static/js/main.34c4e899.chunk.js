(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{237:function(e,t,r){"use strict";(function(e){var n=r(49),a=r(89),o=r(90),i=r(103),s=r(92),c=r(91),l=r(102),u=r(0),d=r.n(u),m=r(59),p=r(9),f=r(17),g=r(27),h=r(548),b=r(549),v=r(546),y=r(37),w=r.n(y),k=r(153),x=r(12),E=r(58),O=r(72),j=r(70),F=r.n(j),D=(r(536),r(267)),I=r(151),C=r(545),T=function(e){var t=e.valid,r=function(e,t){var r=new Date/1e3;return e=e||0,t=t||Number.MAX_VALUE,e<r&&r<t}(e.validFrom,e.validUntil);return{valid:t&&r,revoked:!e.valid,outdated:r}},N=function(e){var t=T(e.registration);return t.valid?"".concat(x.I18n.t("web.verify.issuedBy")," ").concat(e.profile?e.profile.data.name:"unknown"," ").concat(w.a.unix(e.registration.timestamp).fromNow()):t.revoked?"".concat(x.I18n.t("web.verify.revokedBy")," ").concat(e.profile?e.profile.data.name:"unknown"," ").concat(w.a.unix(e.registration.revokedAt).fromNow()):"".concat(x.I18n.t("web.verify.issuedBy")," ").concat(e.profile?e.profile.data.name:"unknown"," ").concat(w.a.unix(e.registration.timestamp).fromNow())},_=function(e){return e.length>0},S=function(t){function r(e){var t;return Object(a.a)(this,r),(t=Object(i.a)(this,Object(s.a)(r).call(this,e))).defaultState={viewDetails:!1,registrations:null,error:void 0,loading:!1},t.loadingState={viewDetails:!1,registrations:null,error:void 0,loading:!0},t.onDrop=t.onDrop.bind(Object(c.a)(t)),t.state=t.defaultState,t}return Object(l.a)(r,t),Object(o.a)(r,[{key:"toBuffer",value:function(t){for(var r=e.alloc(t.byteLength),n=new Uint8Array(t),a=0;a<r.length;++a)r[a]=n[a];return r}},{key:"onDrop",value:function(e){var t=this;this.setState(this.loadingState);var r=e[0],n=new FileReader;n.readAsArrayBuffer(r),n.onload=function(e){var a=window.sp,o=t.toBuffer(n.result),i=a.getHash(o);F.a.post("".concat(window.host,"api/v1/file/verify/").concat(i),{}).then(function(e){t.setState({loading:!1,documentHash:i,name:r.name,registrations:e.data.result})}).catch(function(e){t.setState({loading:!1,documentHash:i,name:r.name,error:{status:e.response?e.response.status:"Network",message:e.message}})})}}},{key:"renderStart",value:function(e){var t=this.props.classes;return d.a.createElement(f.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{maxWidth:"400px"},spacing:1},d.a.createElement(f.a,{item:!0},d.a.createElement(g.a,{className:t.header}," ",x.I18n.t("web.verify.verifyBtnHeader"))),d.a.createElement(f.a,{item:!0},d.a.createElement(k.a,{className:t.iFrameButton,onClick:e,color:"primary",variant:"contained"}," ",x.I18n.t("web.verify.verifyBtnText")," ")))}},{key:"renderRegistration",value:function(e,t){var r=this,n=this.props.classes;return d.a.createElement(f.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{maxWidth:"900px",paddingBottom:"20px",paddingTop:"20px"},spacing:1},d.a.createElement(f.a,{item:!0},d.a.createElement(g.a,{className:n.header})),d.a.createElement(f.a,{item:!0},d.a.createElement(g.a,{align:"center",variant:"h5"},function(e){return x.I18n.t("web.verify.".concat(_(e)?"registered":"notRegistered"))}(e)),d.a.createElement(g.a,{align:"center",variant:"body1"},function(e,t){return x.I18n.t("web.verify.".concat(_(e)?"registeredText":"notRegisteredText"),{name:t,count:e.length})}(e,this.state.name))),d.a.createElement(f.a,{item:!0,xs:12},e.map(function(e){return d.a.createElement(h.a,{defaultExpanded:!1,key:e.registration._id},d.a.createElement("a",{target:"_blank",href:"https://app.sproof.io/#/view/registration/"+e.registration._id},d.a.createElement(b.a,{"aria-controls":"panel1a-content",id:"panel1a-header",onClick:function(){return r.setState({viewDetails:!r.state.viewDetails})}},d.a.createElement(C.a,{className:n.avatar},d.a.createElement(O.a,{size:"30",name:T(e.registration).valid?"check":"close",color:T(e.registration).valid?"successColor":"warningColor"})),d.a.createElement(v.a,{primary:e.registration.name?e.registration.name:"This file has no name",secondary:N(e)}))))})),d.a.createElement(f.a,{item:!0}," ",d.a.createElement(k.a,{className:n.iFrameButton,color:"primary",variant:"contained",onClick:t}," ",x.I18n.t("web.verify.tryAnother")," ")," "),d.a.createElement(f.a,{item:!0,xs:12}," ",d.a.createElement("div",{style:{minHeight:"50px",backgroundColor:"white",minWidth:"10px"}})))}},{key:"renderError",value:function(e,t){var r,n=this.props.classes,a="sad",o=n.checkIconColor,i="".concat(e.status," Error");return console.log(e.status),404===e.status&&(a="sad",i=x.I18n.t("web.verify.documentNotRegistered")),"Network"===e.status&&(i=x.I18n.t("web.verify.networkError"),r=x.I18n.t("web.verify.networkErrorText")),d.a.createElement(f.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{maxWidth:"400px"},spacing:1},d.a.createElement(f.a,{item:!0},d.a.createElement(g.a,{className:n.header}," ",d.a.createElement(O.a,{size:"60",className:o,name:a}))),d.a.createElement(f.a,{item:!0},d.a.createElement(g.a,{className:n.header},i)),d.a.createElement(f.a,{item:!0},d.a.createElement(g.a,{className:n.text},r)),d.a.createElement(f.a,{item:!0}," ",d.a.createElement(k.a,{className:n.iFrameButton,color:"primary",variant:"contained",onClick:t},x.I18n.t("web.verify.tryAnother"))," "))}},{key:"render",value:function(){var e=this,t=this.props.classes,r=this.state,a=r.registrations,o=r.error,i=this.state.loading;return d.a.createElement(D.a,{filesLimit:1,onDrop:this.onDrop},function(r){var s=r.getRootProps,c=r.getInputProps,l=r.isDragActive,u=s(),m=u.onClick,p=Object(n.a)({},u,{onClick:function(e){return e.stopPropagation()}});return d.a.createElement("div",Object.assign({style:{height:"100%"}},p),d.a.createElement("input",c()),d.a.createElement(f.a,{container:!0,className:t.container,direction:"column",justify:"center",alignItems:"center"},i&&d.a.createElement(f.a,{item:!0},d.a.createElement(I.a,{color:"primary"})),!i&&l&&d.a.createElement("div",{className:t.dragFilesContainer},d.a.createElement("div",{className:t.dragFilesBorder},d.a.createElement("div",null,d.a.createElement(g.a,{className:t.dragText,variant:"h6"},x.I18n.t("web.verify.placeYourFile"))))),!i&&!a&&!o&&Object(n.a)({},e.renderStart(m)),!i&&a&&Object(n.a)({},e.renderRegistration(a,m)),!i&&o&&Object(n.a)({},e.renderError(o,m))),d.a.createElement("div",{style:{bottom:0,right:0,width:"100%",backgroundColor:"white",position:"fixed"}},d.a.createElement(f.a,{container:!0,spacing:2,direction:"row",justify:"flex-end",alignItems:"center"},d.a.createElement("a",{href:"https://www.sproof.io",target:"_blank"},d.a.createElement(f.a,{item:!0}," ",d.a.createElement("img",{style:{paddingRight:"8px"},height:"40px",src:"sproof_logo.svg",alt:"sproof logo"})," ")))))})}}]),r}(u.Component);t.a=Object(m.b)(function(e){return{}},{})(Object(p.a)(E.a)(S))}).call(this,r(8).Buffer)},270:function(e,t,r){e.exports=r(543)},275:function(e,t,r){},286:function(e,t){},315:function(e,t){},321:function(e,t){},323:function(e,t){},346:function(e,t){},46:function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return s});var n="https://ipfs.sproof.io/ipfs/",a="http://localhost:6001/";function o(){return Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_HOST_SOURCE,n}function i(){return""}function s(){if("local"===Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_HOST_SOURCE)return"".concat(a,":3001/");Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_HOST_SOURCE}},478:function(e,t){},536:function(e,t,r){"use strict";r(152),r(0),r(46),r(72),r(151)},543:function(e,t,r){"use strict";r.r(t);var n,a=r(0),o=r.n(a),i=r(36),s=r.n(i),c=(r(275),r(59)),l=r(231),u=r(32),d=r(232),m=r(233),p=r(150),f=r(234),g=r.n(f),h=r(12),b=Object(u.c)({i18n:h.i18nReducer}),v=r(71),y={de:{web:{verify:{placeYourFile:"Datei hier ablegen...",verifyBtnHeader:"\xdcberpr\xfcfe ein Dokument",verifyBtnText:"W\xe4hle eine Datei aus...",documentRegisteredHeader:"Dokument ist registriert",registeredAt:"Zeitstempel",documentNotRegistered:"Dokument nicht registriert",back:"Zur\xfcck",tryAnother:"\xdcberpr\xfcfe ein weiteres Dokument...",name:"Name des Dokuments",revokedAt:"Widerrufszeitpunk",networkError:"Netzwerkfehler",networkErrorText:"sproof client ist momentan nicht verf\xfcgbar, probiere es sp\xe4ter erneut...",validDocument:"Dokument ist g\xfcltig",revokedDocument:"Dokument ist ung\xfcltig",revokedProfile:"Aussteller ist ung\xfcltig",timestamp:"Zeitstempel",documentHash:"Dokument Hash",documentId:"Dokument ID",locationHash:"Dokument Link",issuerId:"Aussteller ID",ipfsHash:"IPFS Hash",blocknumber:"Blocknummer",txHash:"Transaction Hash",chain:"Chain",issuedBy:"Ausgestellt von",multipleHeader:"Dieses Dokument wurde von meheren Ausstellern eingetragen",status:"Status des Dokuments"}}},en:{web:{verify:(n={placeYourFile:"Place your file here...",verifyBtnHeader:"Verify a document",verifyBtnText:"Choose a file...",documentRegisteredHeader:"Document registered",registeredAt:"Registration Time",revokedAt:"Revocation Time",documentNotRegistered:"Document is not registered",back:"Back",name:"Name of the document",tryAnother:"Choose another document...",networkError:"Network error",networkErrorText:"sproof client is not available, please try again later...",validDocument:"Document is valid",revokedDocument:"Document was revoked",revokedProfile:"Issuer of document is revoked",details:"Details",timestamp:"Timestamp",documentHash:"Document Hash",documentId:"Document ID",locationHash:"Document Link",issuerId:"Issuer ID",ipfsHash:"IPFS Hash",blocknumber:"Blocknumber",txHash:"TransactionHash",chain:"Chain",issuedBy:"Issued by",multipleHeader:"This document is registered by several issuers",status:"Status of document",registered:"Document is registered",notRegistered:"Document is not registered",registeredText_1:"Your document, with the name '%{name}' is registered in the sproof network by %{count} profile.",registeredText:"Your document, with the name '%{name}' is registered in the sproof network by %{count} profiles.",notRegisteredText:"Your document, with the name '%{name}' is not registered in the sproof network. It could be that your document is in pending mode. Try it again later."},Object(v.a)(n,"issuedBy","Issued by"),Object(v.a)(n,"revokedBy","Revoked by"),n)}}},w=r(70),k=r.n(w),x=r(235),E=r.n(x),O=r(37),j=r.n(O),F=r(46),D="".concat(Object(F.a)(),"api/v1"),I=k.a.create({baseURL:D,responseType:"json"});var C=r(236),T=r(264),N=r(47),_=r(89),S=r(90),B=r(103),H=r(92),A=r(102),R=r(237),W=r(138),L=r.n(W),P=r(58),U=function(e){function t(e){var r;Object(_.a)(this,t),r=Object(B.a)(this,Object(H.a)(t).call(this,e));var n=e.match.params.locale;return e.setLocale("de"===n?"de":"en"),j.a.locale("de"===n?"de":"en"),r}return Object(A.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return o.a.createElement(R.a,{className:this.props.classes.rootWordpress})}}]),t}(a.Component),z=Object(c.b)(function(e){return{}},{setLocale:h.setLocale})(L()(P.a)(U)),M=[{path:"/verify/:locale",component:z},{path:"/verify",component:z},{path:"/:locale",component:z},{path:"/",component:z}],V=r(569),Y=r(266),Z=r(49),q={overrides:{MuiAvatar:{img:{objectFit:"cover",height:null,width:"100%"}},MuiTab:{wrapper:{flexDirection:"row !important"}},MuiButton:{root:{color:"#FFFFFF",borderWidth:"2px",padding:"26px",paddingBottom:"10px",paddingTop:"10px",lineHeight:"24px !important",minWidth:"200px",fontSize:"10",borderRadius:"inherit",fontWeight:"600"}},MuiGrid:{container:{width:"100% !important",margin:"0 !important"},item:{wordWrap:"break-word !important"}}},palette:{primary:{main:"#373737",text:"#FFFFFF"},secondary:{main:"#373737",text:"#FFFFFF"},success:"#42e48b",warning:"#eaac33"},iFrameBtn:{color:"#FFFFFF",background:"#373737",borderWidth:"2px",lineHeight:"20px",minWidth:"200px",borderRadius:"inherit",fontWeight:"600"},typography:{color:"#373737",useNextVariants:!0,fontFamily:["'Helvetica Neue'","Helvetica","Arial","sans-serif"].join(","),button:{fontWeight:800,fontSize:14.65,textTransform:"none"},body1:{fontSize:12},body2:{fontSize:10},headline:{fontSize:25,paddingTop:20,fontWeight:"bold"}}},G={overrides:{MuiAvatar:{img:{objectFit:"cover",height:null,width:"100%"}},MuiTab:{wrapper:{flexDirection:"row !important"}},MuiGrid:{container:{width:"100% !important",margin:"0 !important"},item:{wordWrap:"break-word !important"}}},palette:{primary:{main:"#42e48b",text:"#333333"},secondary:{main:"#a6a6a6",text:"#FFFFFF"},success:"#42e48b",warning:"#eaac33"},typography:{color:"#333333",useNextVariants:!0,fontFamily:["Catamaran","Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),button:{fontWeight:800,fontSize:14.65,fontFamily:"'Catamaran', sans-serif"},headline:{fontFamily:"'Catamaran', sans-serif",fontSize:25,fontWeight:"bold"}}},J=Object(Z.a)({},G,q),X=function(e){var t=Object(m.createLogger)({collapsed:!1,predicate:function(){return!1}}),r={key:"root",storage:g.a,blacklist:["i18n","notification","search","form","log","profile","activity"]},n=Object(p.a)(r,b),a=Object(u.a)(E()(I),d.a,t)(u.d)(n,e),o=Object(p.b)(a);Object(h.syncTranslationWithStore)(a),a.dispatch(Object(h.loadTranslations)(y));var i=window.navigator.language||window.navigator.userLanguage;return i="de"===i.split("-")[0]?"de":"en",a.dispatch(Object(h.setLocale)("en")),j.a.locale(i),{store:a,persistor:o}}(),K=X.store,Q=X.persistor;window.onload=function(){var e=Object(F.a)(),t=Object(F.c)();window.host=Object(F.a)();var r=new C.Sproof({uri:e,socket:t});window.sp=r},s.a.render(o.a.createElement(c.a,{store:K},o.a.createElement(l.a,{loading:null,persistor:Q},o.a.createElement(V.a,{theme:Object(Y.a)(J)},o.a.createElement(T.a,null,o.a.createElement(N.c,null,M.map(function(e,t){return o.a.createElement(N.a,{path:e.path,component:e.component,key:t})})))))),document.getElementById("root"))},58:function(e,t,r){"use strict";t.a=function(e){var t=e.palette.success||"#42e48b",r=e.palette.warning||"#FF0000";return{iFrameButton:e.iFrameBtn||{color:e.palette.primary.text,background:e.palette.primary.main,borderWidth:"2px",padding:"26px",paddingBottom:"13px",paddingTop:"13px",lineHeight:"24px",minWidth:"200px",fontSize:"12px !important",borderRadius:"inherit",fontWeight:"600",border:"2px solid".concat(e.palette.primary.main," !important"),letterSpacing:"1pt","&:hover":{background:e.palette.primary.main}},container:{minHeight:"100%"},dragFilesContainer:{width:"100%",height:"100%",backgroundColor:"white",zIndex:"1",opacity:"0.91",position:"fixed",bottom:"0px",top:"0px",display:"flex",alignItems:"center",justifyContent:"center"},dragFilesBorder:{width:"calc(100% - 50px)",position:"fixed",height:"calc(100% - 50px)",border:"8px dashed ".concat(e.palette.primary.main),borderRadius:"50px",bottom:"0px",top:"0px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"1",opacity:"0.91"},dragText:{fontWeight:"bold"},successColor:{color:"".concat(t)},warningColor:{color:"".concat(r)},header:{fontSize:"24px",textAlign:"center",fontWeight:"bold"},p:{fontWeight:"bold",textAlign:"center"},rootWordpress:{display:"flex",alignItems:"center",justifyContent:"center"}}}},72:function(e,t,r){"use strict";var n=r(58),a=r(0),o=r.n(a),i=r(544),s=r(151),c=r(142),l=r(238),u=r(239),d=r(240),m=r(241),p=r(242),f=r(243),g=r(10),h=r(73),b=r(104),v=r(244),y=r(143),w=r(245),k=r(246),x=r(247),E=r(248),O=r(144),j=r(249),F=r(250),D=r(251),I=r(252),C=r(253),T=r(254),N=r(255),_=r(145),S=r(256),B=r(147),H=r(257),A=r(146),R=(r(512),function(e){switch(e){case"creditCard":return f.creditCardAlt;case"explorer":return g.search;case"profile":return g.user;case"profiles":return g.users;case"confirmations":return y.thumbsOUp;case"registration":case"documentHash":return b.fileText;case"error":return _.exclamationTriangle;case"registrations":return g.filesO;case"sad":return H.frownO;case"website":return S.externalLink;case"block":return g.hashtag;case"dailyTransaction":return p.clockO;case"network":return h.network;case"event":case"events":return g.send;case"submitTransaction":return h.network;case"receiver":return g.user;case"issuer":return g.institution;case"verifier":return g.search;case"order":return g.filePdfO;case"user":return g.user;case"question":return w.question;case"register":return b.fileText;case"lock":case"reset":return A.lock;case"users":return g.users;case"mobile":return g.mobile;case"contactus":return g.envelope;case"pdf":return g.filePdfO;case"github":return g.github;case"revoke":return O.close;case"check":return g.check;case"transactions":case"transaction":return h.network;case"settings":return g.gear;case"account_circle":return v.ic_account_circle;case"edit":return N.ic_mode_edit;case"thumbUp":return y.thumbsOUp;case"waiting":return j.save;case"thumbDown":return k.thumbsODown;case"cloud":return x.upload;case"signout":return F.signOut;case"download":return E.download;case"dashboard":return g.dashboard;case"close":return O.close;case"documents":return g.filesO;case"verify":return D.ic_verified_user;case"arrow":return I.ic_keyboard_arrow_right;case"add":return g.plus;case"search":return g.search;case"up":return C.ic_keyboard_arrow_up;case"down":return T.ic_keyboard_arrow_down;case"pseudonym":return l.userSecret;case"notInterestedIcon":return _.exclamationTriangle;case"back":return u.ic_arrow_back;case"reload":return d.ic_refresh;case"warning":return m.warning;default:return console.log("Icon not found: "+e),g.ban}}),W=Object(B.withStyles)(function(e){return{badge:{top:"auto",bottom:0,right:-3}}})(i.a),L=function(e){return e?"error"==e||"warning"==e||"success"==e?void 0:e:"#333333"},P=function(e){return e.secondName?o.a.createElement(W,{badgeContent:o.a.createElement(c.Icon,{style:{color:L(e.secondColor)},className:e.classes[e.secondColor],icon:R(e.secondName),size:e.secondSize})}," ",e.children," "):e.children};t.a=Object(B.withStyles)(n.a)(function(e){if("loading"===e.name)return o.a.createElement(s.a,{style:{padding:8},color:"primary"});var t=L(e.color);return console.log(t),console.log(e.color),o.a.createElement(P,e,o.a.createElement(c.Icon,Object.assign({style:{color:t},className:e.classes[e.color]},e,{icon:R(e.name)})))})}},[[270,1,2]]]);
//# sourceMappingURL=main.34c4e899.chunk.js.map